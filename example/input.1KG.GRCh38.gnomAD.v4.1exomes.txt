def controlRoot="/research/bsi/projects/staff_analysis/m301801/tools/cocorv_pipeline/gnomAD/v4.1.0"
def oneKGRoot="/research/bsi/projects/staff_analysis/m301801/tools/cocorv_pipeline/cocorv-1kg-grch38-data"
def outputRootDefined="/research/bsi/projects/staff_analysis/m301801/tools/cocorv_pipeline/CoCoRV-1KG-GRCh38-gnomADv4.1exome-output"
def vepFolderDefined="/research/bsi/projects/staff_analysis/m301801/tools/cocorv_pipeline/ensembl-vep"
def vepPluginData="/research/bsi/projects/PI/tertiary/Couch_Fergus_coucf/s306689.ProjectGeneration/Tapestry/ref/VEP_plugins"
def annovarFolderDefined="/research/bsi/projects/staff_analysis/m301801/tools/annovar/annovar_20191024"
def referenceDefined="/research/bsi/projects/staff_analysis/m301801/simplexo/data/AoURef/Homo_sapiens_assembly38.fasta"

params {
  
  // gnomAD V4.1 files
  controlCountPrefix="${controlRoot}/exomes/genotypeCount/gnomad.exomes.v4.1.sites.chr"
  controlCountSuffix=".vcf.bgz.gds"
  controlAnnoPrefix="${controlRoot}/exomes/annotation/chr"
  controlAnnoSuffix=".annovar.vep.vcf.gz.gds"
  controlBed="${controlRoot}/exomes/coverage10x.bed.gz"

  // gnomAD PC and population data from v4.1
  gnomADPCPosition="${controlRoot}/ancestry/hail_positions.GRCh38.v4.chr.pos.tsv"
  loadingPath="${controlRoot}/ancestry/gnomad.v4.0.pca_loadings.ht"
  rfModelPath="${controlRoot}/ancestry/gnomad.v4.0.RF_fit.onnx"
  threshold=0.75 // the threshold used to assign populations/ethnicities. 0.9 is used in gnomAD v2, 0.75 is used in gnomAD v3. For simplicity, 0.75 is used for gnomAD v4, even though different thresholds for different populations might be better. If the probability is below the threshold, other will be assigned.

  // case files
  caseBed="NA"
  caseVCFPrefix="${oneKGRoot}/CoCoRV-GRCh38-1KG.GATK.chr"
  caseVCFSuffix=".vcf.gz"
  caseSample="${oneKGRoot}/23_samples.txt"

  // output folder
  outputRoot=outputRootDefined

  // tools
  annovarFolder=annovarFolderDefined
  CoCoRVFolder="/opt/cocorv/"
  // VEP
  vepFolder=vepFolderDefined
  cache="${vepFolder}/cache_hg38"
  lofteeFolder="${vepPluginData}/LOFTEE/loftee"
  lofteeDataFolder="${vepPluginData}/LOFTEE/loftee/hg38"
  caddSNV="${vepPluginData}/CADD/hg38/whole_genome_SNVs.tsv.gz"
  caddIndel="${vepPluginData}/CADD/hg38/gnomad.genomes.r3.0.indel.tsv.gz"
  spliceAISNV="${vepPluginData}/SpliceAI/spliceai_scores.raw.snv.hg38.vcf.gz"
  spliceAIIndel="${vepPluginData}/SpliceAI/spliceai_scores.raw.indel.hg38.vcf.gz"
  AM="${vepPluginData}/AlphaMissense/"
  REVEL="${vepPluginData}/REVEL"
  vepFASTA=referenceDefined
  perlThread="${vepFolder}/cache_hg38/cpanm/lib/perl5/x86_64-linux-thread"

  // reference
  refFASTA=referenceDefined 
  reference="GRCh38" // GRCh37 for gnomAD v2 or GRCh38 for gnomAD v3
  gnomADVersion="v4exome"
  chrSet="1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22"
  // chrSet="1 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22"
  // chrSet="21 22"

  // CoCoRV setting
  ACANConfig="${controlRoot}/stratified_config_gnomadV4.asj.txt"
  variantExclude="${controlRoot}/exomes/failed/gnomAD41WGSExtraExcludeInCodingExcludeTAS2R46.txt.gz"
  AFMax=5e-4
  variantMissing=0.1
  variantGroup="annovar_pathogenic" 
  REVELThreshold=0.65


}
